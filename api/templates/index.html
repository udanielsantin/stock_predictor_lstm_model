<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Price Predictor - LSTM</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ˆ Stock Price Predictor</h1>
            <p>Utilize inteligÃªncia artificial para prever preÃ§os de aÃ§Ãµes</p>
            <p style="font-size: 0.85em; margin-top: 10px; opacity: 0.8;">
                ğŸ’¡ <a href="https://finance.yahoo.com/lookup" target="_blank" style="color: white; text-decoration: underline;">Consultar cÃ³digos de aÃ§Ãµes no Yahoo Finance</a>
            </p>
            <div style="margin-top: 20px;">
                <a href="/dashboard" style="display: inline-block; padding: 12px 30px; background: white; color: #667eea; border: 2px solid white; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s;">
                    ğŸ“Š Ver Dashboard de Logs
                </a>
            </div>
        </div>

        <div class="main-content">
            <!-- Input Panel -->
            <div class="input-panel">
                <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
                
                <div class="form-group">
                    <label for="ticker">Ticker da AÃ§Ã£o</label>
                    <input type="text" id="ticker" placeholder="Ex: MSFT, AAPL, ABEV3, VALE3" value="ABEV3">
                    <small style="color: #888; font-size: 0.85em; display: block; margin-top: 5px;">
                        ğŸ’¡ Brasileiras: use apenas o cÃ³digo (ABEV3, VALE3) | Internacionais: cÃ³digo completo (MSFT, AAPL, TSLA)
                    </small>
                </div>

                <div class="form-group">
                    <label for="start_date">Data Inicial</label>
                    <input type="date" id="start_date">
                </div>

                <div class="form-group">
                    <label for="end_date">Data Final</label>
                    <input type="date" id="end_date">
                </div>

                <button id="predictBtn">ğŸš€ Fazer PrevisÃ£o</button>

                <div class="error" id="errorMsg"></div>
                <div class="success" id="successMsg"></div>
            </div>

            <!-- Results Panel -->
            <div class="results-panel" id="resultsPanel">
                <div class="loading" id="loading">
                    <p>â³ Carregando dados e fazendo previsÃµes...</p>
                    <div class="spinner"></div>
                </div>

                <div id="resultsContent" style="display: none;">
                    <!-- Summary Metrics -->
                    <h2 style="color: #333; margin-bottom: 20px;">ğŸ“Š Resumo da AnÃ¡lise</h2>
                    <div class="summary-metrics">
                        <div class="metric-card">
                            <div class="metric-label">ğŸ’° PreÃ§o Atual</div>
                            <div class="metric-value" id="lastClose">-</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ğŸ“Š PrÃ³ximo PreÃ§o</div>
                            <div class="metric-value" id="nextPrice">-</div>
                            <div class="metric-delta" id="priceChange">-</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ğŸ“‰ Dias Analisados</div>
                            <div class="metric-value" id="dataPoints">-</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ğŸ¯ RÂ² Score</div>
                            <div class="metric-value" id="r2Score">-</div>
                        </div>
                    </div>

                    <!-- Detailed Metrics -->
                    <h3 class="section-title">ğŸ“‹ MÃ©tricas Detalhadas</h3>
                    <div class="detailed-metrics">
                        <div class="detail-card">
                            <div class="detail-label">MSE</div>
                            <div class="detail-value" id="mse">-</div>
                        </div>
                        <div class="detail-card">
                            <div class="detail-label">MAE</div>
                            <div class="detail-value" id="mae">-</div>
                        </div>
                        <div class="detail-card">
                            <div class="detail-label">RMSE</div>
                            <div class="detail-value" id="rmse">-</div>
                        </div>
                    </div>

                    <!-- Plot -->
                    <h3 class="section-title">ğŸ“ˆ GrÃ¡fico: Previsto vs Real</h3>
                    <div class="plot-container">
                        <img id="plotImage" src="" alt="GrÃ¡fico de PrevisÃ£o">
                    </div>

                    <!-- Summary Text -->
                    <h3 class="section-title">ğŸ“ Resumo Executivo</h3>
                    <div class="summary-text" id="summaryText">-</div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/script.js"></script>
</body>
</html>
